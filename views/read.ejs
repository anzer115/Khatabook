<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Hisaab</title>
    <link rel="stylesheet" href="/public/stylesheets/viewstyle.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <main class="w-full h-screen bg-zinc-100 font-['Helvetica']">
        <nav class="flex px-10 justify-between py-5">
            <h3 class="text-2xl tracking-tight">Khaatabook</h3>
            <div class="navlinks flex gap-5">
                <a class="tracking-tight" href="/">Home</a>
                <a class="tracking-tight" href="/logout">Logout</a>
                <a class="tracking-tight" href="/show">Create New Hisaab</a>
            </div>
        </nav>

           <div class="users mt-10 flex flex gap-3 flex-wrap  ">
             
                <% if(user.posts.length>0){  %>
                   
                    <% user.posts.forEach(function(val){ %>
                    <!-- 1.content 2. title 3.date -->
                      
                    <div class="user w-100 mx-10 p-4 bg-zinc-200 rounded-lg hover:bg-zinc-400 cursor-pointer">
                        <!-- Buttons -->
                        <div class="flex gap-3 flex-wrap">
                                 <div class="bg-blue-400 px-2 py-0.5 text-sm tracking-tight text-white rounded-md cursor-pointer">
                                    <p>Encrypted<p>
                                 </div>
                                 <div class="">
                                    Icon
                                 </div>
                                 <div class="text-zinc-500 text-sm  py-0.5  ">
                                    <!-- Convert the date to dd-mm-yyyy format and include time -->
                                    <%
                                    let date = new Date(val.date);
                                    let formattedDate = `${date.getDate()}-${date.getMonth()+1}-${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`;
                                    %>
                                    <h5 class="ps-10">Created on <%= formattedDate %></h2>
                                 </div>
                        </div>
                        <h3 class="text-xl mt-2 tracking-tighter"><%= val.title %></h3>
                       
                          <div class="flex gap-3 mt-10">
                            <a href="/edit/<%= val._id %>" class="text-zinc-500">Edit</a>
                            <a href="/delete/<%= val._id %>" class="text-red-500">Delete</a>
                          </div>
                      </div>
                    <% }) %>
                  <%  } else { %>
                    <h3 class="text-xl mt-2 mx-10 tracking-tighter">No Hisaabs Present..Create Now</h3>
             <%   } %>
                
             

          
</div>
              
              






       
    </main>
</body>
</html>